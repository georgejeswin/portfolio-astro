<section class="w-screen items-center justify-center mb-[100px] p-5">
  <h1 class="text-4xl font-extralight text-center mt-14 mb-10" id="contact">
    Thanks for taking the time to reach out. <br /> How can I help you today?
  </h1>
  <form
    class="flex items-center justify-center flex-col"
    action=""
    id="submit-form"
  >
    <div
      class="flex max-w-2xl w-full gap-2 justify-between items-center flex-wrap"
    >
      <div class="flex flex-col p-2 min-w-[300px] basis-0 grow">
        <label for="name" class="text-xl text-gray-400 font-light mb-3"
          >Name</label
        >
        <input
          type="text"
          name="name"
          class="bg-transparent border-2 border-gray-200 rounded-md p-3 focus:outline-none"
          value=""
          required
        />
      </div>
      <div class="flex flex-col p-2 min-w-[300px] basis-0 grow">
        <label for="phone" class="text-xl text-gray-400 font-light mb-3"
          >Number</label
        >
        <input
          type="tel"
          name="phone"
          class="bg-transparent border-2 border-gray-200 rounded-md p-3 focus:outline-none"
        />
      </div>
    </div>
    <div class="flex flex-col max-w-2xl w-full p-2">
      <label for="email" class="text-xl text-gray-400 font-light mb-3"
        >Email</label
      >
      <input
        type="email"
        name="email"
        id="email"
        required
        class="bg-transparent border-2 border-gray-200 rounded-md p-3 focus:outline-none"
      />
    </div>
    <div class="flex flex-col max-w-2xl w-full p-2">
      <label for="message" class="text-xl text-gray-400 font-light mb-3"
        >Message</label
      >
      <textarea
        name="message"
        id="message"
        cols="20"
        rows="5"
        required
        class="bg-transparent border-2 border-gray-200 rounded-md p-3 focus:outline-none"
      ></textarea>
    </div>
    <button
      type="submit"
      class="px-8 py-3 rounded-full border-2 border-indigo-500 text-indigo-500 hover:bg-indigo-500 hover:text-white mt-5"
      id="submit-button">Send Message</button
    >
  </form>
</section>

<script>
  const contactForm = document.getElementById("submit-form");
  const submitButton = document.getElementById("submit-button");

  contactForm!.addEventListener("submit", (e) => {
    e.preventDefault();
    submitButton!.innerHTML = "Sending Message...";
    $.ajax({
      url: "https://script.google.com/macros/s/AKfycbxcMFMlzPCK2z92neHtUsrimKwiKQR8DW2FJ7gT3bEE-Gbqh9RLjUUmafU7IYznU3H5/exec",
      data: $("#submit-form").serialize(),
      method: "post",
      success: function (response) {
        submitButton!.innerHTML = "Message Sent!";
        (document.getElementById("submit-form") as HTMLFormElement).reset();
        setTimeout(() => {
          submitButton!.innerHTML = "Send Message";
        }, 2000);
      },
      error: function (err) {
        console.log(err);
        submitButton!.innerHTML = "Failed Message!";
        setTimeout(() => {
          submitButton!.innerHTML = "Send Message";
        }, 3000);
      },
    });
  });
</script>
